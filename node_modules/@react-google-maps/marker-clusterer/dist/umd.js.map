{"version":3,"file":"umd.js","sources":["../src/ClusterIcon.tsx","../src/Cluster.tsx","../src/Clusterer.tsx"],"sourcesContent":["/* global google */\n/* eslint-disable filenames/match-regex */\nimport { Cluster } from './Cluster'\n\nimport { ClusterIconStyle, ClusterIconInfo } from './types'\n\nexport class ClusterIcon {\n  cluster: Cluster\n  className: string\n  styles: ClusterIconStyle[]\n  center: google.maps.LatLng | undefined\n  div: HTMLDivElement | null\n  sums: ClusterIconInfo | null\n  visible: boolean\n  url: string\n  height: number\n  width: number\n  anchorText: number[]\n  anchorIcon: number[]\n  textColor: string\n  textSize: number\n  textDecoration: string\n  fontWeight: string\n  fontStyle: string\n  fontFamily: string\n  backgroundPosition: string\n\n  boundsChangedListener: google.maps.MapsEventListener | null\n\n  constructor(cluster: Cluster, styles: ClusterIconStyle[]) {\n    cluster.getClusterer().extend(ClusterIcon, google.maps.OverlayView)\n    this.cluster = cluster\n    this.className = this.cluster.getClusterer().getClusterClass()\n    this.styles = styles\n    this.center = undefined\n    this.div = null\n    this.sums = null\n    this.visible = false\n    this.boundsChangedListener = null\n    this.url = ''\n    this.height = 0\n    this.width = 0\n    this.anchorText = [0, 0]\n    this.anchorIcon = [0, 0]\n    this.textColor = 'black'\n    this.textSize = 11\n    this.textDecoration = 'none'\n    this.fontWeight = 'bold'\n    this.fontStyle = 'normal'\n    this.fontFamily = 'Arial,sans-serif'\n    this.backgroundPosition = '0 0'\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    this.setMap(cluster.getMap()) // Note: this causes onAdd to be called\n  }\n\n  onAdd() {\n    let cMouseDownInCluster: boolean\n    let cDraggingMapByCluster: boolean\n\n    this.div = document.createElement('div')\n    this.div.className = this.className\n    if (this.visible) {\n      this.show()\n    }\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    this.getPanes().overlayMouseTarget.appendChild(this.div)\n\n    // Fix for Issue 157\n    this.boundsChangedListener = google.maps.event.addListener(\n      // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n      this.getMap(),\n      'boundschanged',\n      function boundsChanged() {\n        cDraggingMapByCluster = cMouseDownInCluster\n      }\n    )\n\n    google.maps.event.addDomListener(this.div, 'mousedown', function onMouseDown() {\n      cMouseDownInCluster = true\n      cDraggingMapByCluster = false\n    })\n\n    // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n    google.maps.event.addDomListener(\n      this.div,\n      'click',\n      // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n      (event: Event) => {\n        cMouseDownInCluster = false\n\n        if (!cDraggingMapByCluster) {\n          const markerClusterer = this.cluster.getClusterer()\n\n          /**\n           * This event is fired when a cluster marker is clicked.\n           * @name MarkerClusterer#click\n           * @param {Cluster} c The cluster that was clicked.\n           * @event\n           */\n          google.maps.event.trigger(markerClusterer, 'click', this.cluster)\n          google.maps.event.trigger(markerClusterer, 'clusterclick', this.cluster) // deprecated name\n\n          // The default click handler follows. Disable it by setting\n          // the zoomOnClick property to false.\n          if (markerClusterer.getZoomOnClick()) {\n            // Zoom into the cluster.\n            const maxZoom = markerClusterer.getMaxZoom()\n\n            const bounds = this.cluster.getBounds()\n\n            // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n            // @ts-ignore\n            markerClusterer.getMap().fitBounds(bounds)\n\n            // There is a fix for Issue 170 here:\n            setTimeout(function timeout() {\n              // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n              // @ts-ignore\n              markerClusterer.getMap().fitBounds(bounds)\n\n              // Don't zoom beyond the max zoom level\n              // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n              // @ts-ignore\n              if (maxZoom !== null && markerClusterer.getMap().getZoom() > maxZoom) {\n                // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n                // @ts-ignore\n                markerClusterer.getMap().setZoom(maxZoom + 1)\n              }\n            }, 100)\n          }\n\n          // Prevent event propagation to the map:\n          event.cancelBubble = true\n\n          if (event.stopPropagation) {\n            event.stopPropagation()\n          }\n        }\n      }\n    )\n\n    google.maps.event.addDomListener(\n      this.div,\n      'mouseover',\n      // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n      () => {\n        /**\n         * This event is fired when the mouse moves over a cluster marker.\n         * @name MarkerClusterer#mouseover\n         * @param {Cluster} c The cluster that the mouse moved over.\n         * @event\n         */\n        google.maps.event.trigger(this.cluster.getClusterer(), 'mouseover', this.cluster)\n      }\n    )\n\n    // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n    google.maps.event.addDomListener(\n      this.div,\n      'mouseout',\n      // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n      () => {\n        /**\n         * This event is fired when the mouse moves out of a cluster marker.\n         * @name MarkerClusterer#mouseout\n         * @param {Cluster} c The cluster that the mouse moved out of.\n         * @event\n         */\n        google.maps.event.trigger(this.cluster.getClusterer(), 'mouseout', this.cluster)\n      }\n    )\n  }\n\n  onRemove() {\n    if (this.div && this.div.parentNode) {\n      this.hide()\n\n      if (this.boundsChangedListener !== null) {\n        google.maps.event.removeListener(this.boundsChangedListener)\n      }\n\n      google.maps.event.clearInstanceListeners(this.div)\n\n      this.div.parentNode.removeChild(this.div)\n\n      this.div = null\n    }\n  }\n\n  draw() {\n    if (this.visible && this.div !== null && this.center) {\n      const { x, y } = this.getPosFromLatLng(this.center)\n\n      this.div.style.top = y + 'px'\n      this.div.style.left = x + 'px'\n    }\n  }\n\n  hide() {\n    if (this.div) {\n      this.div.style.display = 'none'\n    }\n\n    this.visible = false\n  }\n\n  show() {\n    if (this.div && this.center) {\n      let img = '',\n        divTitle = ''\n\n      // NOTE: values must be specified in px units\n      const bp = this.backgroundPosition.split(' ')\n\n      const spriteH = parseInt(bp[0].replace(/^\\s+|\\s+$/g, ''), 10)\n\n      const spriteV = parseInt(bp[1].replace(/^\\s+|\\s+$/g, ''), 10)\n\n      const pos = this.getPosFromLatLng(this.center)\n\n      if (this.sums === null || typeof this.sums.title === 'undefined' || this.sums.title === '') {\n        divTitle = this.cluster.getClusterer().getTitle()\n      } else {\n        divTitle = this.sums.title\n      }\n\n      this.div.style.cssText = this.createCss(pos)\n\n      img =\n        \"<img alt='\" +\n        divTitle +\n        \"' src='\" +\n        this.url +\n        \"' style='position: absolute; top: \" +\n        spriteV +\n        'px; left: ' +\n        spriteH +\n        'px; '\n\n      // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      //@ts-ignore\n      if (!this.cluster.getClusterer().enableRetinaIcons) {\n        img +=\n          'clip: rect(' +\n          -1 * spriteV +\n          'px, ' +\n          (-1 * spriteH + this.width) +\n          'px, ' +\n          (-1 * spriteV + this.height) +\n          'px, ' +\n          -1 * spriteH +\n          'px);'\n      }\n\n      img += \"'>\"\n\n      this.div.innerHTML =\n        img +\n        \"<div style='\" +\n        'position: absolute;' +\n        'top: ' +\n        this.anchorText[0] +\n        'px;' +\n        'left: ' +\n        this.anchorText[1] +\n        'px;' +\n        'color: ' +\n        this.textColor +\n        ';' +\n        'font-size: ' +\n        this.textSize +\n        'px;' +\n        'font-family: ' +\n        this.fontFamily +\n        ';' +\n        'font-weight: ' +\n        this.fontWeight +\n        ';' +\n        'font-style: ' +\n        this.fontStyle +\n        ';' +\n        'text-decoration: ' +\n        this.textDecoration +\n        ';' +\n        'text-align: center;' +\n        'width: ' +\n        this.width +\n        'px;' +\n        'line-height:' +\n        this.height +\n        'px;' +\n        \"'>\" +\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n        this.sums.text +\n        '</div>'\n\n      this.div.title = divTitle\n\n      this.div.style.display = ''\n    }\n\n    this.visible = true\n  }\n\n  useStyle(sums: ClusterIconInfo) {\n    this.sums = sums\n\n    const style = this.styles[Math.min(this.styles.length - 1, Math.max(0, sums.index - 1))]\n\n    this.url = style.url\n    this.height = style.height\n    this.width = style.width\n\n    if (style.className)\n      this.className = `${this.className} ${style.className}`\n\n    this.anchorText = style.anchorText || [0, 0]\n    this.anchorIcon = style.anchorIcon || [this.height / 2, this.width / 2]\n\n    this.textColor = style.textColor || 'black'\n\n    this.textSize = style.textSize || 11\n\n    this.textDecoration = style.textDecoration || 'none'\n\n    this.fontWeight = style.fontWeight || 'bold'\n\n    this.fontStyle = style.fontStyle || 'normal'\n\n    this.fontFamily = style.fontFamily || 'Arial,sans-serif'\n\n    this.backgroundPosition = style.backgroundPosition || '0 0'\n  }\n\n  setCenter(center: google.maps.LatLng) {\n    this.center = center\n  }\n\n  createCss(pos: google.maps.Point): string {\n    const style = []\n\n    style.push('cursor: pointer;')\n\n    style.push('position: absolute; top: ' + pos.y + 'px; left: ' + pos.x + 'px;')\n\n    style.push('width: ' + this.width + 'px; height: ' + this.height + 'px;')\n\n    return style.join('')\n  }\n\n  getPosFromLatLng(latlng: google.maps.LatLng): google.maps.Point {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    const pos = this.getProjection().fromLatLngToDivPixel(latlng)\n\n    pos.x -= this.anchorIcon[1]\n\n    pos.y -= this.anchorIcon[0]\n\n    // pos.x = pos.x\n\n    // pos.y = pos.y\n\n    return pos\n  }\n}\n","/* global google */\n/* eslint-disable filenames/match-regex */\nimport { Clusterer } from './Clusterer'\n\nimport { ClusterIcon } from './ClusterIcon'\n\nimport { MarkerExtended } from './types'\n\nexport class Cluster {\n  markerClusterer: Clusterer\n  map: google.maps.Map | google.maps.StreetViewPanorama\n  gridSize: number\n  minClusterSize: number\n  averageCenter: boolean\n  markers: MarkerExtended[]\n  center: google.maps.LatLng | undefined\n  bounds: google.maps.LatLngBounds | null\n  clusterIcon: ClusterIcon\n\n  constructor(markerClusterer: Clusterer) {\n    this.markerClusterer = markerClusterer\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    this.map = this.markerClusterer.getMap()\n\n    this.gridSize = this.markerClusterer.getGridSize()\n\n    this.minClusterSize = this.markerClusterer.getMinimumClusterSize()\n\n    this.averageCenter = this.markerClusterer.getAverageCenter()\n\n    this.markers = []\n\n    this.center = undefined\n\n    this.bounds = null\n\n    this.clusterIcon = new ClusterIcon(this, this.markerClusterer.getStyles())\n  }\n\n  getSize(): number {\n    return this.markers.length\n  }\n\n  getMarkers(): MarkerExtended[] {\n    return this.markers\n  }\n\n  getCenter(): google.maps.LatLng | undefined {\n    return this.center\n  }\n\n  getMap(): google.maps.Map | google.maps.StreetViewPanorama {\n    return this.map\n  }\n\n  getClusterer(): Clusterer {\n    return this.markerClusterer\n  }\n\n  getBounds(): google.maps.LatLngBounds {\n    const bounds = new google.maps.LatLngBounds(this.center, this.center)\n\n    const markers = this.getMarkers()\n\n    for (let i = 0; i < markers.length; i++) {\n      const position = markers[i].getPosition()\n\n      if (position) {\n        bounds.extend(position)\n      }\n    }\n\n    return bounds\n  }\n\n  remove() {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    this.clusterIcon.setMap(null)\n\n    this.markers = []\n\n    // @ts-ignore\n    delete this.markers\n  }\n\n  addMarker(marker: MarkerExtended): boolean {\n    if (this.isMarkerAlreadyAdded(marker)) {\n      return false\n    }\n\n    if (!this.center) {\n      const position = marker.getPosition()\n\n      if (position) {\n        this.center = position\n\n        this.calculateBounds()\n      }\n    } else {\n      if (this.averageCenter) {\n        const position = marker.getPosition()\n\n        if (position) {\n          const length = this.markers.length + 1\n\n          this.center = new google.maps.LatLng(\n            (this.center.lat() * (length - 1) + position.lat()) / length,\n            (this.center.lng() * (length - 1) + position.lng()) / length\n          )\n\n          this.calculateBounds()\n        }\n      }\n    }\n\n    marker.isAdded = true\n\n    this.markers.push(marker)\n\n    const mCount = this.markers.length\n\n    const maxZoom = this.markerClusterer.getMaxZoom()\n\n    const zoom = this.map.getZoom()\n\n    if (maxZoom !== null && typeof zoom !== 'undefined' && zoom > maxZoom) {\n      // Zoomed in past max zoom, so show the marker.\n      if (marker.getMap() !== this.map) {\n        marker.setMap(this.map)\n      }\n    } else if (mCount < this.minClusterSize) {\n      // Min cluster size not reached so show the marker.\n      if (marker.getMap() !== this.map) {\n        marker.setMap(this.map)\n      }\n    } else if (mCount === this.minClusterSize) {\n      // Hide the markers that were showing.\n      for (let i = 0; i < mCount; i++) {\n        this.markers[i].setMap(null)\n      }\n    } else {\n      marker.setMap(null)\n    }\n\n    return true\n  }\n\n  isMarkerInClusterBounds(marker: MarkerExtended): boolean {\n    if (this.bounds !== null) {\n      const position = marker.getPosition()\n\n      if (position) {\n        return this.bounds.contains(position)\n      }\n    }\n\n    return false\n  }\n\n  calculateBounds() {\n    this.bounds = this.markerClusterer.getExtendedBounds(\n      new google.maps.LatLngBounds(this.center, this.center)\n    )\n  }\n\n  updateIcon() {\n    const mCount = this.markers.length\n\n    const maxZoom = this.markerClusterer.getMaxZoom()\n\n    const zoom = this.map.getZoom()\n\n    if (maxZoom !== null && typeof zoom !== 'undefined' && zoom > maxZoom) {\n      this.clusterIcon.hide()\n\n      return\n    }\n\n    if (mCount < this.minClusterSize) {\n      // Min cluster size not yet reached.\n      this.clusterIcon.hide()\n\n      return\n    }\n\n    if (this.center) {\n      this.clusterIcon.setCenter(this.center)\n    }\n\n    this.clusterIcon.useStyle(\n      this.markerClusterer.getCalculator()(this.markers, this.markerClusterer.getStyles().length)\n    )\n\n    this.clusterIcon.show()\n  }\n\n  isMarkerAlreadyAdded(marker: MarkerExtended): boolean {\n    if (this.markers.includes) {\n      return this.markers.includes(marker)\n    } else {\n      for (let i = 0; i < this.markers.length; i++) {\n        if (marker === this.markers[i]) {\n          return true\n        }\n      }\n    }\n\n    return false\n  }\n}\n","/* global google */\n/* eslint-disable filenames/match-regex */\nimport { Cluster } from './Cluster'\n\nimport {\n  MarkerExtended,\n  ClustererOptions,\n  ClusterIconStyle,\n  TCalculator,\n  ClusterIconInfo,\n} from './types'\n\n/**\n * Supports up to 9007199254740991 (Number.MAX_SAFE_INTEGER) markers\n * which is not a problem as max array length is 4294967296 (2**32)\n */\nconst CALCULATOR = function CALCULATOR(\n  markers: MarkerExtended[],\n  numStyles: number\n): ClusterIconInfo {\n  const count = markers.length\n\n  const numberOfDigits = count.toString().length\n\n  const index = Math.min(numberOfDigits, numStyles)\n\n  return {\n    text: count.toString(),\n    index: index,\n    title: '',\n  }\n}\n\nconst BATCH_SIZE = 2000\n\nconst BATCH_SIZE_IE = 500\n\nconst IMAGE_PATH =\n  'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m'\n\nconst IMAGE_EXTENSION = 'png'\n\nconst IMAGE_SIZES = [53, 56, 66, 78, 90]\n\nconst CLUSTERER_CLASS = 'cluster'\n\nexport class Clusterer {\n  markers: MarkerExtended[]\n  clusters: Cluster[]\n  listeners: google.maps.MapsEventListener[]\n  activeMap: google.maps.Map | google.maps.StreetViewPanorama | null\n  ready: boolean\n  gridSize: number\n  minClusterSize: number\n  maxZoom: number | null\n  styles: ClusterIconStyle[]\n  title: string\n  zoomOnClick: boolean\n  averageCenter: boolean\n  ignoreHidden: boolean\n  enableRetinaIcons: boolean\n  imagePath: string\n  imageExtension: string\n  imageSizes: number[]\n  calculator: TCalculator\n  batchSize: number\n  batchSizeIE: number\n  clusterClass: string\n  timerRefStatic: number | null\n\n  constructor(\n    map: google.maps.Map,\n    optMarkers: MarkerExtended[] = [],\n    optOptions: ClustererOptions = {}\n  ) {\n    this.extend(Clusterer, google.maps.OverlayView)\n\n    this.markers = []\n    this.clusters = []\n    this.listeners = []\n    this.activeMap = null\n    this.ready = false\n    this.gridSize = optOptions.gridSize || 60\n    this.minClusterSize = optOptions.minimumClusterSize || 2\n    this.maxZoom = optOptions.maxZoom || null\n    this.styles = optOptions.styles || []\n\n    this.title = optOptions.title || ''\n\n    this.zoomOnClick = true\n\n    if (optOptions.zoomOnClick !== undefined) {\n      this.zoomOnClick = optOptions.zoomOnClick\n    }\n\n    this.averageCenter = false\n\n    if (optOptions.averageCenter !== undefined) {\n      this.averageCenter = optOptions.averageCenter\n    }\n\n    this.ignoreHidden = false\n\n    if (optOptions.ignoreHidden !== undefined) {\n      this.ignoreHidden = optOptions.ignoreHidden\n    }\n\n    this.enableRetinaIcons = false\n\n    if (optOptions.enableRetinaIcons !== undefined) {\n      this.enableRetinaIcons = optOptions.enableRetinaIcons\n    }\n    this.imagePath = optOptions.imagePath || IMAGE_PATH\n\n    this.imageExtension = optOptions.imageExtension || IMAGE_EXTENSION\n\n    this.imageSizes = optOptions.imageSizes || IMAGE_SIZES\n\n    this.calculator = optOptions.calculator || CALCULATOR\n\n    this.batchSize = optOptions.batchSize || BATCH_SIZE\n\n    this.batchSizeIE = optOptions.batchSizeIE || BATCH_SIZE_IE\n\n    this.clusterClass = optOptions.clusterClass || CLUSTERER_CLASS\n\n    if (navigator.userAgent.toLowerCase().indexOf('msie') !== -1) {\n      // Try to avoid IE timeout when processing a huge number of markers:\n      this.batchSize = this.batchSizeIE\n    }\n\n    this.timerRefStatic = null\n\n    this.setupStyles()\n\n    this.addMarkers(optMarkers, true)\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    this.setMap(map) // Note: this causes onAdd to be called\n  }\n\n  onAdd() {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    this.activeMap = this.getMap()\n\n    this.ready = true\n\n    this.repaint()\n\n    // Add the map event listeners\n    this.listeners = [\n      google.maps.event.addListener(\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n        this.getMap(),\n        'zoom_changed',\n        // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n        () => {\n          this.resetViewport(false)\n          // Workaround for this Google bug: when map is at level 0 and \"-\" of\n          // zoom slider is clicked, a \"zoom_changed\" event is fired even though\n          // the map doesn't zoom out any further. In this situation, no \"idle\"\n          // event is triggered so the cluster markers that have been removed\n          // do not get redrawn. Same goes for a zoom in at maxZoom.\n          if (\n            // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n            // @ts-ignore\n            this.getMap().getZoom() === (this.get('minZoom') || 0) ||\n            // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n            // @ts-ignore\n            this.getMap().getZoom() === this.get('maxZoom')\n          ) {\n            google.maps.event.trigger(this, 'idle')\n          }\n        }\n      ),\n      google.maps.event.addListener(\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n        this.getMap(),\n        'idle',\n        // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n        () => {\n          this.redraw()\n        }\n      ),\n    ]\n  }\n\n  // eslint-disable-next-line @getify/proper-arrows/this\n  onRemove() {\n    // Put all the managed markers back on the map:\n    for (let i = 0; i < this.markers.length; i++) {\n      if (this.markers[i].getMap() !== this.activeMap) {\n        this.markers[i].setMap(this.activeMap)\n      }\n    }\n\n    // Remove all clusters:\n    for (let i = 0; i < this.clusters.length; i++) {\n      this.clusters[i].remove()\n    }\n\n    this.clusters = []\n\n    // Remove map event listeners:\n    for (let i = 0; i < this.listeners.length; i++) {\n      google.maps.event.removeListener(this.listeners[i])\n    }\n\n    this.listeners = []\n\n    this.activeMap = null\n\n    this.ready = false\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  draw() {}\n\n  setupStyles() {\n    if (this.styles.length > 0) {\n      return\n    }\n\n    for (let i = 0; i < this.imageSizes.length; i++) {\n      this.styles.push({\n        url: this.imagePath + (i + 1) + '.' + this.imageExtension,\n        height: this.imageSizes[i],\n        width: this.imageSizes[i],\n      })\n    }\n  }\n\n  fitMapToMarkers() {\n    const markers = this.getMarkers()\n\n    const bounds = new google.maps.LatLngBounds()\n\n    for (let i = 0; i < markers.length; i++) {\n      const position = markers[i].getPosition()\n      if (position) {\n        bounds.extend(position)\n      }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    this.getMap().fitBounds(bounds)\n  }\n\n  getGridSize(): number {\n    return this.gridSize\n  }\n\n  setGridSize(gridSize: number) {\n    this.gridSize = gridSize\n  }\n\n  getMinimumClusterSize(): number {\n    return this.minClusterSize\n  }\n\n  setMinimumClusterSize(minimumClusterSize: number) {\n    this.minClusterSize = minimumClusterSize\n  }\n\n  getMaxZoom(): number | null {\n    return this.maxZoom\n  }\n\n  setMaxZoom(maxZoom: number) {\n    this.maxZoom = maxZoom\n  }\n\n  getStyles(): ClusterIconStyle[] {\n    return this.styles\n  }\n\n  setStyles(styles: ClusterIconStyle[]) {\n    this.styles = styles\n  }\n\n  getTitle(): string {\n    return this.title\n  }\n\n  setTitle(title: string) {\n    this.title = title\n  }\n\n  getZoomOnClick(): boolean {\n    return this.zoomOnClick\n  }\n\n  setZoomOnClick(zoomOnClick: boolean) {\n    this.zoomOnClick = zoomOnClick\n  }\n\n  getAverageCenter(): boolean {\n    return this.averageCenter\n  }\n\n  setAverageCenter(averageCenter: boolean) {\n    this.averageCenter = averageCenter\n  }\n\n  getIgnoreHidden(): boolean {\n    return this.ignoreHidden\n  }\n\n  setIgnoreHidden(ignoreHidden: boolean) {\n    this.ignoreHidden = ignoreHidden\n  }\n\n  getEnableRetinaIcons(): boolean {\n    return this.enableRetinaIcons\n  }\n\n  setEnableRetinaIcons(enableRetinaIcons: boolean) {\n    this.enableRetinaIcons = enableRetinaIcons\n  }\n\n  getImageExtension(): string {\n    return this.imageExtension\n  }\n\n  setImageExtension(imageExtension: string) {\n    this.imageExtension = imageExtension\n  }\n\n  getImagePath(): string {\n    return this.imagePath\n  }\n\n  setImagePath(imagePath: string) {\n    this.imagePath = imagePath\n  }\n\n  getImageSizes(): number[] {\n    return this.imageSizes\n  }\n\n  setImageSizes(imageSizes: number[]) {\n    this.imageSizes = imageSizes\n  }\n\n  getCalculator(): TCalculator {\n    return this.calculator\n  }\n\n  setCalculator(calculator: TCalculator) {\n    this.calculator = calculator\n  }\n\n  getBatchSizeIE(): number {\n    return this.batchSizeIE\n  }\n\n  setBatchSizeIE(batchSizeIE: number) {\n    this.batchSizeIE = batchSizeIE\n  }\n\n  getClusterClass(): string {\n    return this.clusterClass\n  }\n\n  setClusterClass(clusterClass: string) {\n    this.clusterClass = clusterClass\n  }\n\n  getMarkers(): MarkerExtended[] {\n    return this.markers\n  }\n\n  getTotalMarkers(): number {\n    return this.markers.length\n  }\n\n  getClusters(): Cluster[] {\n    return this.clusters\n  }\n\n  getTotalClusters(): number {\n    return this.clusters.length\n  }\n\n  addMarker(marker: MarkerExtended, optNoDraw: boolean) {\n    this.pushMarkerTo(marker)\n\n    if (!optNoDraw) {\n      this.redraw()\n    }\n  }\n\n  addMarkers(markers: MarkerExtended[], optNoDraw: boolean) {\n    for (const key in markers) {\n      if (markers.hasOwnProperty(key)) {\n        this.pushMarkerTo(markers[key])\n      }\n    }\n\n    if (!optNoDraw) {\n      this.redraw()\n    }\n  }\n\n  pushMarkerTo(marker: MarkerExtended) {\n    // If the marker is draggable add a listener so we can update the clusters on the dragend:\n    if (marker.getDraggable()) {\n      // eslint-disable-next-line @getify/proper-arrows/name, @getify/proper-arrows/this\n      google.maps.event.addListener(marker, 'dragend', () => {\n        if (this.ready) {\n          marker.isAdded = false\n\n          this.repaint()\n        }\n      })\n    }\n\n    marker.isAdded = false\n\n    this.markers.push(marker)\n  }\n\n  removeMarker_(marker: MarkerExtended): boolean {\n    let index = -1\n\n    if (this.markers.indexOf) {\n      index = this.markers.indexOf(marker)\n    } else {\n      for (let i = 0; i < this.markers.length; i++) {\n        if (marker === this.markers[i]) {\n          index = i\n\n          break\n        }\n      }\n    }\n\n    if (index === -1) {\n      // Marker is not in our list of markers, so do nothing:\n      return false\n    }\n\n    marker.setMap(null)\n\n    this.markers.splice(index, 1) // Remove the marker from the list of managed markers\n\n    return true\n  }\n\n  removeMarker(marker: MarkerExtended, optNoDraw: boolean): boolean {\n    const removed = this.removeMarker_(marker)\n\n    if (!optNoDraw && removed) {\n      this.repaint()\n    }\n\n    return removed\n  }\n\n  removeMarkers(markers: MarkerExtended[], optNoDraw: boolean): boolean {\n    let removed = false\n\n    for (let i = 0; i < markers.length; i++) {\n      removed = removed || this.removeMarker_(markers[i])\n    }\n\n    if (!optNoDraw && removed) {\n      this.repaint()\n    }\n\n    return removed\n  }\n\n  clearMarkers() {\n    this.resetViewport(true)\n\n    this.markers = []\n  }\n\n  repaint() {\n    const oldClusters = this.clusters.slice()\n\n    this.clusters = []\n\n    this.resetViewport(false)\n\n    this.redraw()\n\n    // Remove the old clusters.\n    // Do it in a timeout to prevent blinking effect.\n    setTimeout(function timeout() {\n      for (let i = 0; i < oldClusters.length; i++) {\n        oldClusters[i].remove()\n      }\n    }, 0)\n  }\n\n  getExtendedBounds(bounds: google.maps.LatLngBounds): google.maps.LatLngBounds {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    const projection = this.getProjection()\n    // Convert the points to pixels and the extend out by the grid size.\n    const trPix = projection.fromLatLngToDivPixel(\n      // Turn the bounds into latlng.\n      new google.maps.LatLng(bounds.getNorthEast().lat(), bounds.getNorthEast().lng())\n    )\n\n    trPix.x += this.gridSize\n    trPix.y -= this.gridSize\n\n    const blPix = projection.fromLatLngToDivPixel(\n      // Turn the bounds into latlng.\n      new google.maps.LatLng(bounds.getSouthWest().lat(), bounds.getSouthWest().lng())\n    )\n\n    blPix.x -= this.gridSize\n    blPix.y += this.gridSize\n\n    // Extend the bounds to contain the new bounds.\n    bounds.extend(\n      // Convert the pixel points back to LatLng nw\n      projection.fromDivPixelToLatLng(trPix)\n    )\n\n    bounds.extend(\n      // Convert the pixel points back to LatLng sw\n      projection.fromDivPixelToLatLng(blPix)\n    )\n\n    return bounds\n  }\n\n  redraw() {\n    // Redraws all the clusters.\n    this.createClusters(0)\n  }\n\n  resetViewport(optHide: boolean) {\n    // Remove all the clusters\n    for (let i = 0; i < this.clusters.length; i++) {\n      this.clusters[i].remove()\n    }\n\n    this.clusters = []\n\n    // Reset the markers to not be added and to be removed from the map.\n    for (let i = 0; i < this.markers.length; i++) {\n      const marker = this.markers[i]\n\n      marker.isAdded = false\n\n      if (optHide) {\n        marker.setMap(null)\n      }\n    }\n  }\n\n  distanceBetweenPoints(p1: google.maps.LatLng, p2: google.maps.LatLng): number {\n    const R = 6371 // Radius of the Earth in km\n\n    const dLat = ((p2.lat() - p1.lat()) * Math.PI) / 180\n    const dLon = ((p2.lng() - p1.lng()) * Math.PI) / 180\n\n    const a =\n      Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n      Math.cos((p1.lat() * Math.PI) / 180) *\n        Math.cos((p2.lat() * Math.PI) / 180) *\n        Math.sin(dLon / 2) *\n        Math.sin(dLon / 2)\n\n    return R * (2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)))\n  }\n\n  isMarkerInBounds(marker: MarkerExtended, bounds: google.maps.LatLngBounds): boolean {\n    const position = marker.getPosition()\n\n    if (position) {\n      return bounds.contains(position)\n    }\n\n    return false\n  }\n\n  addToClosestCluster(marker: MarkerExtended) {\n    let cluster\n\n    let distance = 40000 // Some large number\n\n    let clusterToAddTo = null\n\n    for (let i = 0; i < this.clusters.length; i++) {\n      cluster = this.clusters[i]\n\n      const center = cluster.getCenter()\n\n      const position = marker.getPosition()\n\n      if (center && position) {\n        const d = this.distanceBetweenPoints(center, position)\n\n        if (d < distance) {\n          distance = d\n\n          clusterToAddTo = cluster\n        }\n      }\n    }\n\n    if (clusterToAddTo && clusterToAddTo.isMarkerInClusterBounds(marker)) {\n      clusterToAddTo.addMarker(marker)\n    } else {\n      cluster = new Cluster(this)\n\n      cluster.addMarker(marker)\n\n      this.clusters.push(cluster)\n    }\n  }\n\n  createClusters(iFirst: number) {\n    if (!this.ready) {\n      return\n    }\n\n    // Cancel previous batch processing if we're working on the first batch:\n    if (iFirst === 0) {\n      /**\n       * This event is fired when the <code>Clusterer</code> begins\n       *  clustering markers.\n       * @name Clusterer#clusteringbegin\n       * @param {Clusterer} mc The Clusterer whose markers are being clustered.\n       * @event\n       */\n      google.maps.event.trigger(this, 'clusteringbegin', this)\n\n      if (this.timerRefStatic !== null) {\n        window.clearTimeout(this.timerRefStatic)\n\n        // @ts-ignore\n        delete this.timerRefStatic\n      }\n    }\n\n    // Get our current map view bounds.\n    // Create a new bounds object so we don't affect the map.\n    //\n    // See Comments 9 & 11 on Issue 3651 relating to this workaround for a Google Maps bug:\n    const mapBounds =\n      // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n      this.getMap().getZoom() > 3\n        ? new google.maps.LatLngBounds(\n            // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n            // @ts-ignore\n            this.getMap()\n              .getBounds()\n              .getSouthWest(),\n            // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n            // @ts-ignore\n            this.getMap()\n              .getBounds()\n              .getNorthEast()\n          )\n        : new google.maps.LatLngBounds(\n            new google.maps.LatLng(85.02070771743472, -178.48388434375),\n            new google.maps.LatLng(-85.08136444384544, 178.00048865625)\n          )\n\n    const bounds = this.getExtendedBounds(mapBounds)\n\n    const iLast = Math.min(iFirst + this.batchSize, this.markers.length)\n\n    for (let i = iFirst; i < iLast; i++) {\n      const marker = this.markers[i]\n\n      if (!marker.isAdded && this.isMarkerInBounds(marker, bounds)) {\n        if (!this.ignoreHidden || (this.ignoreHidden && marker.getVisible())) {\n          this.addToClosestCluster(marker)\n        }\n      }\n    }\n\n    if (iLast < this.markers.length) {\n      this.timerRefStatic = window.setTimeout(\n        // eslint-disable-next-line @getify/proper-arrows/this, @getify/proper-arrows/name\n        () => {\n          this.createClusters(iLast)\n        },\n        0\n      )\n    } else {\n      this.timerRefStatic = null\n\n      /**\n       * This event is fired when the <code>Clusterer</code> stops\n       *  clustering markers.\n       * @name Clusterer#clusteringend\n       * @param {Clusterer} mc The Clusterer whose markers are being clustered.\n       * @event\n       */\n      google.maps.event.trigger(this, 'clusteringend', this)\n\n      for (let i = 0; i < this.clusters.length; i++) {\n        this.clusters[i].updateIcon()\n      }\n    }\n  }\n\n  extend(obj1: any, obj2: any): any {\n    return function applyExtend(object: any) {\n      // eslint-disable-next-line guard-for-in\n      for (const property in object.prototype) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n        this.prototype[property] = object.prototype[property]\n      }\n\n      // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n      return this\n    }.apply(obj1, [obj2])\n  }\n}\n"],"names":[],"mappings":"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"}